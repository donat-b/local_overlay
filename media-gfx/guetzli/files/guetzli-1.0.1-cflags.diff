diff --git i/Makefile w/Makefile
index 52d56bd..dd5a406 100644
--- i/Makefile
+++ w/Makefile
@@ -1,5 +1,8 @@
 # GNU Make workspace makefile autogenerated by Premake
 
+CC ?= gcc
+CXX ?= g++
+
 ifndef config
   config=release
 endif
@@ -23,8 +26,7 @@ all: $(PROJECTS)
 
 guetzli:
 ifneq (,$(guetzli_config))
-	@echo "==== Building guetzli ($(guetzli_config)) ===="
-	@${MAKE} --no-print-directory -C . -f guetzli.make config=$(guetzli_config)
+	${MAKE} SHELL='sh -x' --no-print-directory -C . -f guetzli.make config=$(guetzli_config)
 endif
 
 clean:
@@ -42,4 +44,4 @@ help:
 	@echo "   clean"
 	@echo "   guetzli"
 	@echo ""
-	@echo "For more information, see http://industriousone.com/premake/quick-start"
\ No newline at end of file
+	@echo "For more information, see http://industriousone.com/premake/quick-start"
diff --git i/guetzli.make w/guetzli.make
index d4df6ad..57891a3 100644
--- i/guetzli.make
+++ w/guetzli.make
@@ -19,8 +19,8 @@ ifeq ($(config),release)
   INCLUDES += -I. -Ithird_party/butteraugli
   FORCE_INCLUDE +=
   ALL_CPPFLAGS += $(CPPFLAGS) -MMD -MP $(DEFINES) $(INCLUDES)
-  ALL_CFLAGS += $(CFLAGS) $(ALL_CPPFLAGS) -O3 -g `pkg-config --cflags libpng`
-  ALL_CXXFLAGS += $(CXXFLAGS) $(ALL_CPPFLAGS) -O3 -g -std=c++11 `pkg-config --cflags libpng`
+  ALL_CFLAGS += $(CFLAGS) $(ALL_CPPFLAGS) -Wall -g `pkg-config --cflags libpng`
+  ALL_CXXFLAGS += $(CXXFLAGS) $(ALL_CPPFLAGS) -Wall -g -std=c++11 `pkg-config --cflags libpng`
   ALL_RESFLAGS += $(RESFLAGS) $(DEFINES) $(INCLUDES)
   LIBS +=
   LDDEPS +=
@@ -46,8 +46,8 @@ ifeq ($(config),debug)
   INCLUDES += -I. -Ithird_party/butteraugli
   FORCE_INCLUDE +=
   ALL_CPPFLAGS += $(CPPFLAGS) -MMD -MP $(DEFINES) $(INCLUDES)
-  ALL_CFLAGS += $(CFLAGS) $(ALL_CPPFLAGS) -g `pkg-config --cflags libpng`
-  ALL_CXXFLAGS += $(CXXFLAGS) $(ALL_CPPFLAGS) -g -std=c++11 `pkg-config --cflags libpng`
+  ALL_CFLAGS += $(CFLAGS) $(ALL_CPPFLAGS) -Wall -g `pkg-config --cflags libpng`
+  ALL_CXXFLAGS += $(CXXFLAGS) $(ALL_CPPFLAGS) -Wall -g -std=c++11 `pkg-config --cflags libpng`
   ALL_RESFLAGS += $(RESFLAGS) $(DEFINES) $(INCLUDES)
   LIBS +=
   LDDEPS +=
@@ -140,7 +140,7 @@ ifneq (,$(PCH))
 $(OBJECTS): $(GCH) $(PCH)
 $(GCH): $(PCH)
 	@echo $(notdir $<)
-	$(SILENT) $(CXX) -x c++-header $(ALL_CXXFLAGS) -o "$@" -MF "$(@:%.gch=%.d)" -c "$<"
+	$(CXX) -x c++-header $(ALL_CXXFLAGS) $(LDFLAGS) -o "$@" -MF "$(@:%.gch=%.d)" -c "$<"
 endif
 
 $(OBJDIR)/butteraugli_comparator.o: guetzli/butteraugli_comparator.cc
@@ -210,4 +210,4 @@ $(OBJDIR)/butteraugli.o: third_party/butteraugli/butteraugli/butteraugli.cc
 -include $(OBJECTS:%.o=%.d)
 ifneq (,$(PCH))
   -include $(OBJDIR)/$(notdir $(PCH)).d
-endif
\ No newline at end of file
+endif
